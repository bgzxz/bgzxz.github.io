<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
   <meta name="apple-mobile-web-app-capable" content="yes" />
   <meta name="apple-mobile-web-app-status-bar-style" content="black" />
   <!-- <link rel="apple-touch-icon" href="http://s0-weizhifeng-net.b0.upaiyun.com/touch-icon-iphone.png" /> -->
   <link rel="apple-touch-icon-precomposed" href="http://s0-weizhifeng-net.b0.upaiyun.com/touch-icon-iphone-precomposed.png" />
   <link rel="apple-touch-icon" sizes="72x72" href="http://s0-weizhifeng-net.b0.upaiyun.com/touch-icon-ipad.png" />
   <link rel="apple-touch-icon" sizes="114x114" href="http://s0-weizhifeng-net.b0.upaiyun.com/touch-icon-iphone-retina.png" />
   <link rel="apple-touch-icon" sizes="144x144" href="http://s0-weizhifeng-net.b0.upaiyun.com/touch-icon-ipad-retina.png" />
   
   <title>CSS 2.1选择器第三部分</title>
   <meta name="author" content="Jeremy Wei" />
   <link href="http://feeds.feedburner.com/JeremyWei" rel="alternate" title="Jeremy Wei" type="application/atom+xml" />
   <link rel="shortcut icon" type="image/x-icon" href="http://s0-weizhifeng-net.b0.upaiyun.com/favicon.ico">
   
   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="http://s0-weizhifeng-net.b0.upaiyun.com/css/syntax.css?20130623" type="text/css" />
   
   <!-- Homepage CSS -->
   <link rel="stylesheet" href="http://s0-weizhifeng-net.b0.upaiyun.com/css/screen.css?20130721v1" type="text/css" media="screen, projection" />
   <!-- <link rel="stylesheet" href="/css/screen.css?072122" type="text/css" media="screen, projection" /> -->
   
   <script type="text/javascript" charset="utf-8">
   // Mobile Safari in standalone mode
   if(("standalone" in window.navigator) && window.navigator.standalone){
	   
   	// If you want to prevent remote links in standalone web apps opening Mobile Safari, change 'remotes' to true
   	var noddy, remotes = true;
	
   	document.addEventListener('click', function(event) {
		
   		noddy = event.target;
		
   		// Bubble up until we hit link or top HTML element. Warning: BODY element is not compulsory so better to stop on HTML
   		while(noddy.nodeName !== "A" && noddy.nodeName !== "HTML") {
   	        noddy = noddy.parentNode;
   	    }
		
   		if('href' in noddy && noddy.href.indexOf('http') !== -1 && (noddy.href.indexOf(document.location.host) !== -1 || remotes))
   		{
   			event.preventDefault();
   			document.location.href = noddy.href;
   		}
	
   	},false);
   }
   </script>
</head>
<body>
	
<div class="site">
  <pre class="nav margin-for-mobile">{"<a href='/tech.html'>文</a>", "<a href='/translate.html'>譯</a>", "<a href='/poem.html'>詩</a>", "<a href='/5000years.html'>國史</a>", "<a href='/resume.html'>己</a>"}</pre>
  <br />
  <div id="post">
	<h1>CSS 2.1选择器第三部分</h1>
	<div class="copyright">
	作者: JeremyWei | 可以转载, 但必须以超链接形式标明文章原始出处和作者信息及版权声明<br />
	网址: http://weizhifeng.net/css-21-selectors-part-3.html
	</div>

	<h1>CSS 2.1 选择器，第三部分</h1>

<p>这是介绍CSS 2.1中可用的选择器的三篇系列文章中的第三篇也是最后一篇文章。<a href="css-21-selectors-part-1.html">第一篇</a>是关于非常基础的内容，比如类型选择器，类和ID选择器，通配选择器，简单选择器。在<a href="/css-21-selectors-part-2.html">第二篇</a>文章中，我介绍了组合因子（combinators），组合选择器，分组，以及属性选择器。</p>

<p>这次我将会近距离的看下伪类（pseudo-classes）和伪元素（pseudo-elements）。像我在第二篇文章中介绍的更加高级的选择器一样，伪类和伪元素还没有被所有主流浏览器所完全支持（译者注：浏览器支持情况请见<a href="http://www.quirksmode.org/css/selectors/">quirksmode</a>），所以请记得当浏览器不支持的时候，检查一下到底发生了什么。你不希望你的内容在不支持这儿所讨论的CSS的浏览器中不能被访问。</p>

<h2>伪类和伪元素</h2>

<p>伪类和伪元素能被用来格式化那些不能通过文档树中可用的信息来定位的元素。举个例子，不存在一个与一个段落中的第一行内容或者一个元素文本内容的第一个字母所关联的元素。</p>

<h2>伪类</h2>

<p>伪类是用比名字，属性或者内容更加独特的信息来匹配元素的。</p>

<h3>:first-child</h3>

<p>这个伪类会匹配一个元素的第一个子元素。让我们假设你想给一篇文章的第一个段落配一个特殊的样式。如果这篇文章被包含在一个类名为“article”的<code>div</code>元素中，那么下面的规则将会匹配每一篇文章中的第一个<code>p</code>元素：</p>

<pre><code>div.article p:first-child {
    font-style:italic;
}
</code></pre>

<p>想匹配所有做为任何元素的第一个子元素而存在的<code>p</code>元素，你可以使用这个规则的选择器：</p>

<pre><code>p:first-child {
    font-style:italic;
}
</code></pre>

<h3>:link和:visited</h3>

<p><code>link伪类</code>会对未访问和访问过的链接状态产生影响。这两种状态是相互独立的－一个链接在同一时间不可能既是访问过又是未访问过。</p>

<p>这些伪类只能应用到文档语言所决定的超链接源锚点（anchor）上。对于HTML来说，这指的是具有<code>href</code>属性的<code>a</code>元素。既然这不会影响其他元素，那么以下选择器是一样的：</p>

<pre><code>a:link
:link
</code></pre>

<h3>:hover, :active, and :focus</h3>

<p>动态伪类可以用来控制特定元素在用户发起特定动作时的展现形式。</p>

<p><code>:hover</code>在当用户使用一个指针式设备指向一个元素但是并没有触发它的时候产生效果。大部分情况下这指的是使用一个鼠标，并让光标悬浮在一个元素上。</p>

<p><code>:active</code>在当一个元素被用户触发的时候生效。对于鼠标用户来说这指的是你按下鼠标的按钮，并且保持按下的状态，直到你释放它为止。</p>

<p><code>:focus</code>在当一个元素拥有焦点的时候会生效，比如当它接收键盘事件的时候。</p>

<p>一个元素可以同时匹配多个伪类。一个元素可以拥有焦点，同时又可以被鼠标悬浮，比如：</p>

<pre><code>input[type=text]:focus {
    color:#000;
    background:#ffe;
}
input[type=text]:focus:hover {
    background:#fff;
}
</code></pre>

<p>第一个规则将会匹配拥有焦点的<code>input</code>元素，第二个规则将会匹配同样的元素当鼠标悬浮在它们上方时候。</p>

<h3>:lang</h3>

<p>语言伪类可以用来给内容被定义在一个指定语言（人类语言，不是标记语言）中的元素加样式。下面的规则定义了在瑞典语中一个行内引用使用哪个引号：</p>

<pre><code>q:lang(sv) { quotes: "\201D" "\201D" "\2019" "\2019"; }
</code></pre>

<p>一个文档或者元素中使用的人类语言通常在HTML中是通过<code>lang</code>属性来指定的，在XHTML中是通过<code>xml:lang</code>属性来指定的。</p>

<h2>伪元素</h2>

<p>伪元素可以让作者访问和格式化不能通过文档树中节点来访问的部分。</p>

<h2>:first-line</h2>

<p><code>:first-line</code>伪元素会对文本段落中的第一行产生影响。它只能应用到块级元素，行内块（inline-block）元素，表格标题或者表格单元格。</p>

<p>第一行的长度明显的取决于多种因素，包括字体大小和包含此文本元素的宽度。</p>

<p>下面规则将会应用到一个段落中的第一行文本：</p>

<pre><code>p:first-line {
    font-weight:bold;
    color;#600;
}
</code></pre>

<p>注意可以应用到<code>:first-line</code>伪元素上的属性有一些限制。请查看<a href="http://www.w3.org/TR/CSS21/selector.html#first-line-pseudo">:first-line伪元素</a>文档来获取可以应用的属性列表。</p>

<h2>:first-letter</h2>

<p>这个伪元素可以让你定位一个元素的第一个字母或者数字，能够应用到块（block），列表项目，表格单元格，表格标题和行内块（inline-block）等元素上。</p>

<p>下面的规则将会应用到类名为“preamble”的元素的第一个字符：</p>

<pre><code>.preamble:first-letter {
    font-size:1.5em;
    font-weight:bold;
}
</code></pre>

<p>像<code>:first-line</code>伪元素一样，<code>:first-letter</code>伪元素对于哪些属性可以应用也有一些限制。请查看<a href="http://www.w3.org/TR/CSS21/selector.html#first-letter">:first-letter伪元素</a>的文档来获取可以应用的属性列表。</p>

<h2>:before and :after</h2>

<p>在更多的经过讨论的CSS特性中，<code>:before</code>和<code>:after</code>伪元素可以用来向一个元素内容的前面或者后面插入生成好的内容。</p>

<p>这是<code>:before</code>如何被使用（来自我的文章<a href="http://www.456bereastreet.com/archive/200509/custom_borders_with_advanced_css/">Custom borders with advanced CSS</a>）的一个例子：</p>

<pre><code>.cbb:before {
    content:"";
    display:block;
    height:17px;
    width:18px;
    background:url(top.png) no-repeat 0 0;
    margin:0 0 0 -18px;
}
</code></pre>

<p>一个使用<code>:after</code>在一个链接文本后面插入一个链接的URL的例子：</p>

<pre><code>a:link:after {
    content: " (" attr(href) ") ";
}
</code></pre>

<h2>IE问题</h2>

<p>在你开始把已经学到的关于选择器的所有东西付诸使用之前，注意IE浏览器直到并且包括版本6在内，对于CSS2.1选择器的支持并不完整。下面是不支持或者有问题的：</p>

<ul>
<li>子选择器</li>
<li>邻居兄弟选择器</li>
<li>属性选择</li>
<li>多个类选择器</li>
<li><code>:first-child</code>伪类</li>
<li>语言伪类</li>
<li><code>:before</code>和<code>:after</code>伪元素</li>
<li><code>:hover</code>伪类只在<code>a</code>元素中工作</li>
<li><code>:focus</code>伪类不支持。对于获得焦点的<code>a</code>元素，<code>:active</code>伪类会被应用。</li>
</ul>


<p>幸运的是，看起来IE7将会对CSS2.1进行完整的支持。</p>

<h2>你已经有能量了 - 现在开始使用它</h2>

<p>这就是所有的内容了。现在你已经学了所有关于CSS2.1选择器的内容，你已经有了相当多的能量可以使用当你设计你的文档的时候。为了保持你的标记整洁，并且增加可访问性和可用性，请小心的使用。并且记得思考在那些不支持更高级CSS选择器的旧浏览器中将会发生什么。</p>

<p>原文：<a href="http://www.456bereastreet.com/archive/200510/css_21_selectors_part_3/">http://www.456bereastreet.com/archive/200510/css_21_selectors_part_3/</a></p>

	(完)

	<div class="post-info">
		29 Jun 2013  
	
		
	
		
	</div>
	
	<!-- disqus start -->
	<div id="disqus_thread"></div>
	<script type="text/javascript">
	    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	    var disqus_shortname = 'jeremywei'; // required: replace example with your forum shortname

	    /* * * DON'T EDIT BELOW THIS LINE * * */
	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	<!-- disqus end -->

	<!-- related start -->
	<div id="related">
	  <h2>相关内容</h2>
	  <ul class="posts">
	    
	      <li><span>21 Jul 2013</span> &raquo; <a href="/viewports.html">两个viewport的故事（第一部分）</a></li>
	    
	      <li><span>14 Jul 2013</span> &raquo; <a href="/a-pixel-is-not.html">不是像素的像素不是像素</a></li>
	    
	      <li><span>06 Jul 2013</span> &raquo; <a href="/make-web-app-more-native.html">把你的网站改造成一个iOS Web App</a></li>
	    
	      <li><span>06 Jul 2013</span> &raquo; <a href="/cross-browser-inline-block.html">跨浏览器的Inline-Block</a></li>
	    
	      <li><span>30 Jun 2013</span> &raquo; <a href="/css-underscore-hack.html">The Underscore Hack</a></li>
	    
	  </ul>
	</div>
	<!-- related end -->
</div>
  
<div class="footer"></div>
<div class="power">  
  Powered by <a href="http://github.com/" targe="_blank">Github</a> &nbsp;&amp;&amp;&nbsp; <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> 
</div>
</div>

<a href="http://github.com/jeremywei" target="_blank">
	<img class="right-banner first" src="http://s0-weizhifeng-net.b0.upaiyun.com/images/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub" />
</a>

<a href="http://www.phptherightway.com" target="_blank">
    <img class="right-banner second" src="http://s0-weizhifeng-net.b0.upaiyun.com/images/php-the-right-way-120x60.png" alt="PHP: The Right Way"/>
</a>
</body>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-5179718-7']);
  _gaq.push(['_setDomainName', 'weizhifeng.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</html>
